{% extends "base.html" %}
{% load thumbnail %}
{% block custom_head_css_js %}
<script src="http://13.114.147.87/static/layui.js"></script>
<link rel="stylesheet" href="http://13.114.147.87/static/css/layui.css">
<!--<script src="https://unpkg.com/masonry-layout@4/dist/masonry.pkgd.min.js"></script>-->
 <style type="text/css">
    a.index-btn{
        border-style: solid;
        border-width: 1px;
        border-color: #00c1de;
        background-color: none;
        height: 800px;
        width: 200px;
    }
    .item {
        width: 100%;
        float: left;
        margin: 0 13px 13px 0;
        border: 1px solid #CCC;
        background-image: -webkit-linear-gradient(top, #FFF, #F9F9F9);
        position: static;
        border-radius: 5px;
    }
    .item:hover {
        box-shadow: 0 3px 8px 0 rgba(0,0,0,0.2);
    }
    .item-inner {
        padding: 10px 15px 10px 8px;
        position: relative;
        _position: static;
    }
    .item-hd{
        margin: 0;
        padding: 0;
    }
    .item-category {
        float: right;
    }
    .item-bd{
        margin: 0;
        padding: 0;
    }
    .item-desc {
        border-top: 1px solid #DDD;
        margin-top: 8px;
        padding: 10px 0;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        color: #777;
        font-size:12px;
    }
    .item-ft {
        margin-top:30px;
        text-align: right;
    }
    .item-link {
        float: left;
        margin-top: 3px;
        color: #999;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    a.item-hd {
        display: inline-block;
        position: relative;
        height: 20px;
        line-height: 20px;
        text-align: right;
        color: #393D49
    }
    a.item-hd:hover{
        color:#00c1de;
        text-decoration: underline;
    }
    a.item-btn {
        display: inline-block;
        position: relative;
        width: 60px;
        height: 20px;
        line-height: 20px;
        text-align: right;
        color: #393D49
    }
    a.item-btn:hover{
        color:#00c1de;
        text-decoration: underline;
    }
    .item h3 {
        font-size: 16px;
        margin: 0;
        line-height: 1.4;
        margin-bottom: 5px;
        height: 22px;
        overflow: hidden;
    }
    .item-icon {
        float: left;
        margin-right: 10px;
    }
    h3{
        color: #393D49;
    }
  </style>
<style> 
.container-fluid {
  padding: 20px;
  }
.box {
  margin-bottom: 20px;
  float: left;
  width: 220px;
  }
  .box img {
  max-width: 100%
  }
</style>

<div class="layui-container" style="margin-top:80px;">
{% for post in posts %}
            <div class="layui-row layui-col-space10">
            <div class="layui-col-md3">
                <div class="item">
                    <div class="item-inner">
                        <div class="item-hd">
                            <a href="aes_cipher.html" class="item-icon" title="AES在线加解密"><img src="../static/images/index/aes.png" alt="AES在线加解密"/></a>
                            <h3><a class="item-hd" href="aes_cipher.html" title="AES在线加解密">AES算法</a></h3>
                            </div>
                        <div class="item-bd">
                            <div class="item-desc" title="支持5种模式，5种填充">支持5种模式，5种填充</div>
                        </div>
                        <div class="item-ft">
                            <span class="item-link">www.ssleye.com</span>
                            <a class="item-btn" href="aes_cipher.html">进入</a>
                        </div>
                    </div>
                </div>
            </div>
{% endfor %}
</div>


{% endblock %}


{% block content  %}
    {% for catalog in catalogs %}
     <a href={{catalog.get_absolute_url}}>{{catalog.name}}</a>
    {% endfor %}
<hr>

  <div id="masonry" class="container-fluid">
{% for post in posts %}
  <div class="box">
<div class="card" style="width: 18rem;">
<img class="card-img-top" src="{{ post.img|thumbnail_url:'avatar' }}" alt="Card image cap" />
  <div class="card-body">
    <h5 class="card-title">{{ post.title }}</h5>
    <a href="/post/detail/{{post.id}}" class="btn">Go somewhere</a>
  </div>
</div>
</div>
{% endfor %}
  </div>

<!--
<div class="grid">
{% for post in posts %}
  <div class="grid-item">k</div>

    <a href="/user/{{post.author.id}}/posts/">{{post.author.username}}</a>发表于{{post.publish}} -<a href={{post.catalog.get_absolute_url}}>{{post.catalog.name}}</a><br>
    {{ post.title }}<br />
    {{ post.content | safe }}<br />
{% endfor %}
-->

</div>
<div class="pagination">
    <span class="step-links">
        {% if posts.has_previous %}
            <a href="?page=1">&laquo; first</a>
            <a href="?page={{ posts.previous_page_number }}">previous</a>
        {% endif %}

        <span class="current">
            Page {{ posts.number }} of {{ posts.paginator.num_pages }}.
        </span>

        {% if posts.has_next %}
            <a href="?page={{ posts.next_page_number }}">next</a>
            <a href="?page={{ posts.paginator.num_pages }}">last &raquo;</a>
        {% endif %}
    </span>
</div>

    <script>
        //JavaScript代码区域
        layui.use(['element','util'], function(){
            var element = layui.element,
            util = layui.util,
            $=layui.jquery;
  
            //TOP固定块
            util.fixbar({
              css: {right: 50, bottom: 100}
              ,bgcolor: '#9F9F9F'
            });
          })
    </script>

 <script>
  $(function(){
  var $container = $('#masonry');
  $container.imagesLoaded( function(){
  $container.masonry({
  itemSelector : '.box',
  gutterWidth : 20,
  isAnimated: true,
  });
  });
  });
  </script>
{% endblock %}
